安全知识概要（二）
===

###（一）Base64
####（1）概念
Base64是一种基于64个可打印字符来表示二进制数据的表示方法。由于2的6次方等于64，所以每6个比特为一个单元，对应某个可打印字符。三个字节有24个比特，对应于4个Base64单元，即3个字节需要用4个可打印字符来表示。它可用来作为电子邮件的传输编码。在Base64中的可打印字符包括字母A-Z、a-z、数字0-9，这样共有62个字符，此外两个可打印符号在不同的系统中而不同。  
严格意义上说，base64不是加密，是为了解决对一些在传输协议中的控制字符转换的功能。

####（2）算法
1. 将三个byte的数据，先后放入一个24bit的缓冲区中，先来的byte占高位。数据不足3byte的话，于缓冲器中剩下的bit用0补足。然后，每次取出6（因为26=64）个bit，按照其值选择ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/中的字符作为编码后的输出。不断进行，直到全部输入数据转换完成。

2. 当原数据长度不是3的整数倍时, 如果最后剩下一个输入数据，在编码结果后加2个“=”；如果最后剩下两个输入数据，编码结果后加1个“=”；如果没有剩下任何数据，就什么都不要加，这样才可以保证数据还原的正确性。

####（3）算法范例
编码“Man”  

| 简单四层结构    | OSI七层模型    |
| :----:|:----:|
| 文本    | M	a	n   |
| ASCII编码    | 77	97	110    |
| 二进制位    | 010011	010110	000101	101110    |
| 索引	    | 19	22	5	46    |
| Base64编码	    | T	W	F	u    |

####（4）应用场景
#####1、urlencode
URL 只能使用 ASCII 字符集来通过因特网进行发送。  
范围： 大写字母A-Z、小写字母a-z、数字 0-9、标点符 - _ . ! ~ * ‘ (和 ,) 
其他字符都将被替换成百分号（%）后跟两位十六进制数。  
Base64编码常用于对 URL 传输的数据进行转换。然而，标准的Base64并不适合直接放在URL里传输，因为URL编码器会把标准Base64中的“/”和“+”字符变为形如“%XX”的形式。
#####2、数据传输
可以将一些二进制文件转换位字符串流，进行传输。如图片上传，可以把整个图片 base64放入 post 请求参数中上传。

####（5）注意事项
java.util.Base64工具类提供了一套静态方法获取下面三种BASE64编解码器：  
1）Basic编码  
2）URL编码  
3）MIME编码  
如果是使用基本的编码器，那么输出可能会包含反斜线“/”字符，但是如果使用URL编码器，那么输出的内容对URL来说是安全的。
MIME编码器会使用基本的字母数字产生BASE64输出，而且对MIME格式友好：每一行输出不超过76个字符，而且每行以“\r\n”符结束。

###（二）RSA
####（1）概念
RSA加密算法是一种非对称加密算法，有公钥和密钥，目前只存在暴力破解，破解难度比较大。
####（2）实现方式
java 语言中javax.crypto扩展库支持 RSA 证书生成和加解密，具体范例看[这里](http://blog.csdn.net/wangqiuyun/article/details/42143957)。  
范例中为了方便存储和显示，加解密后得到的 byte 流通过 base64转换。  
私钥密钥可以互相加密解密，公钥加密私钥解密的过程是信息传输加密，私钥加密公钥解密是签名。